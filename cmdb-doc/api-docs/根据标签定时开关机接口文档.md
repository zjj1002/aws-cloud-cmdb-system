### 1.获取ec2主机实例列表
#### 描述
```
获取ec2主机实例列表
```
#### 请求地址

| 操作 | 操作名称               |
| :--: | :--------------------- |
| 协议 | HTTP                   |
| 方式 | GET                    |
| 地址 | /v1/cmdb/ec2_instance/ |

#### 请求参数

| 序号 | 参数名 | 中文名称   | 必选 | 数据类型 | 长度 | 默认值 | 备注           |
| ---- | :----- | :--------- | :--- | :------- | :--- | :----- | :------------- |
| 1    | key    | 查询关键字 | N    | String   | 18   | 无     | 模糊查询关键字 |
| 2    | page   | 当前页码   | N    | Int      | 2    | 1      | 当前页码       |
| 3    | size   | 每页数量   | N    | Int      | 2    | 10     | 每页数量       |

#### 返回数据
| 序号 | 返回值 |    中文名称    | 备注         |
| :--: | :----- | :------------: | :----------- |
|  1   | code   |   请求状态码   | 0代表成功    |
|  1   | msg    |    返回消息    | 消息说明     |
|  1   | total  | 返回数据的总数 | 数据的总数   |
|  1   | data   |    返回数据    | 返回具体数据 |

#### data数据字段说明

| 序号 | 返回值       | 中文名称             | 备注                                 |
| :--: | :----------- | :------------------- | :----------------------------------- |
|  1   | service_name | 服务名称             | 服务名称                             |
|  2   | instance_id  | 实例ID               | 实例ID                               |
|  3   | set_times    | 是否设置了开关机时间 | 1用True表示  0用False (并用颜色区分) |


#### 请求URL实例

``` bash
  $ curl "https://cmdb.jncapp.com/api/cmdb/v1/cmdb/ec2_instance/"
```

#### 返回数据实例

``` json
{
    "code": 0,
    "msg": "success",
    "total": 4,
    "data": [
        {
            "id": 160,
            "service_name": "ec2",
            "instance_id": "i-0021705a9f56a849c",
            "set_times": 0
        },
        {
            "id": 161,
            "service_name": "ec2",
            "instance_id": "i-04bffa9952d41d728",
            "set_times": 1
        },
        {
            "id": 162,
            "service_name": "ec2",
            "instance_id": "i-05c9bdf217586c7f1",
            "set_times": 0
        },
        {
            "id": 163,
            "service_name": "ec2",
            "instance_id": "i-0cc0404a6ec407eec",
            "set_times": 0
        }
    ]
}
```

### 2.关联与不关联的接口
#### 描述
```
关联开关机时间标签的接口和不关联开关机时间标签的接口
```
#### 请求地址

| 操作 | 操作名称               |
| :--: | :--------------------- |
| 协议 | HTTP                   |
| 方式 | POST                   |
| 地址 | /v1/cmdb/set_time_tag/ |

#### 请求参数

| 序号 | 参数名      | 中文名称     | 必选 | 数据类型 | 长度 | 默认值 | 备注 |
| ---- | :---------- | :----------- | :--- | :------- | :--- | :----- | :--- |
| 1    | instance_id | 实例ID       | Y    | String   |      |        |      |
| 2    | temp_data   | 关联或不关联 | Y    | String   |      |        |      |
|      |             |              |      |          |      |        |      |

#### 返回数据
| 序号 | 返回值 |    中文名称    | 备注         |
| :--: | :----- | :------------: | :----------- |
|  1   | code   |   请求状态码   | 0代表成功    |
|  1   | msg    |    返回消息    | 消息说明     |
|  1   | total  | 返回数据的总数 | 数据的总数   |
|  1   | data   |    返回数据    | 返回具体数据 |

#### data数据字段说明

| 序号 | 返回值 | 中文名称 | 备注 |
| :--: | :----- | :------- | :--- |
|      |        |          |      |


#### 请求URL实例

``` bash
  $ curl -X POST "https://cmdb.jncapp.com/api/cmdb/v1/cmdb/set_time_tag/" -d {"instance_id":"i-0021705a9f56a849c", "temp_data":"关联"}
```

#### 返回数据实例

``` json
1
```
### 3.自定义开关机时间标签
#### 描述
```
自定义开关机时间标签
```
#### 请求地址

| 操作 | 操作名称               |
| :--: | :--------------------- |
| 协议 | HTTP                   |
| 方式 | GET                    |
| 地址 | /v1/cmdb/set_time_tag/ |

#### 请求参数

| 序号 | 参数名   | 中文名称 | 必选 | 数据类型                 | 长度 | 默认值 | 备注 |
| ---- | :------- | :------- | :--- | :----------------------- | :--- | :----- | :--- |
| 1    | uptime   | 开机时间 | Y    | String  例如：8:30       |      |        |      |
| 2    | downtime | 关机时间 | Y    | String   例如：20:30     |      |        |      |
| 3    | week     | 星期     | N    | 列表  例如：[1, 2, 3, 4] |      |        |      |

#### 返回数据
| 序号 | 返回值 |    中文名称    | 备注         |
| :--: | :----- | :------------: | :----------- |
|  1   | code   |   请求状态码   | 0代表成功    |
|  1   | msg    |    返回消息    | 消息说明     |
|  1   | total  | 返回数据的总数 | 数据的总数   |
|  1   | data   |    返回数据    | 返回具体数据 |

#### data数据字段说明

| 序号 | 返回值 | 中文名称 | 备注 |
| :--: | :----- | :------- | :--- |
|      |        |          |      |


#### 请求URL实例

``` bash
  $ curl "https://cmdb.jncapp.com/api/cmdb/v1/cmdb/set_time_tag/" -d {"uptime":"8:30", "downtime":"20:30", "week":[1,2,3,4,5]}
```

#### 返回数据实例

``` json
1
```
